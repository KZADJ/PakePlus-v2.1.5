{"message":"Not Found","documentation_url":"https://docs.github.com/rest/git/refs#get-all-references-in-a-namespace","status":"404","name":"KZADJAI2025","url":"http://kzadj.cn","showName":"KZADJAI","appid":"com.KZADJAI2025.pakeplus","icon":"","iconPath":"C:\\Users\\a\\AppData\\Roaming\\com.pakeplus.pacbao\\e89vmflm6cs.png","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"3.0.0","preview":"desktop","platform":["1-1","1-2","2-1","2-2","3-1","3-2"],"width":800,"height":600,"desc":"","jsFile":[],"filterCss":"","customJs":"// very important, if you don't know what it is, don't touch it\n// éå¸¸é‡è¦ï¼Œä¸æ‡‚ä»£ç ä¸è¦åŠ¨ï¼Œè¿™é‡Œå¯ä»¥è§£å†³80%çš„é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç”Ÿäº§1000+çš„bug\nconst hookClick = (e) => {\n  const origin = e.target.closest('a')\n  const isBaseTargetBlank = document.querySelector(\n    'head base[target=\"_blank\"]'\n  )\n  console.log('origin', origin, isBaseTargetBlank)\n  if (\n    (origin && origin.href && origin.target === '_blank') ||\n    (origin && origin.href && isBaseTargetBlank)\n  ) {\n    e.preventDefault()\n    console.log('handle origin', origin)\n    location.href = origin.href\n  } else {\n    console.log('not handle origin', origin)\n  }\n}\n\nwindow.open = function (url, target, features) {\n  console.log('open', url, target, features)\n  location.href = url\n}\n\ndocument.addEventListener('click', hookClick, { capture: true })\n\n// ç­‰å¾…åŠ è½½å®Œæˆåæ‰§è¡Œ\nwindow.onload = function () {\n  // åˆ›å»ºä¸»æ§åˆ¶é¢æ¿æ ·å¼\n  const style = document.createElement('style');\n  style.textContent = `\n  .control-panel {\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n    z-index: 2147483647;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  }\n  \n  .main-control-btn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n    border: none;\n    border-radius: 50%;\n    font-size: 16px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);\n    position: relative;\n    overflow: hidden;\n    z-index: 2147483647;\n    background: rgba(102, 126, 234, 0.85);\n    color: white;\n    animation: rainbow 8s infinite linear;\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n  }\n  \n  @keyframes rainbow {\n    0% { background: rgba(102, 126, 234, 0.85); }\n    14% { background: rgba(240, 147, 251, 0.85); }\n    28% { background: rgba(78, 205, 196, 0.85); }\n    42% { background: rgba(255, 107, 107, 0.85); }\n    57% { background: rgba(79, 172, 254, 0.85); }\n    71% { background: rgba(168, 237, 234, 0.85); }\n    85% { background: rgba(210, 153, 194, 0.85); }\n    100% { background: rgba(102, 126, 234, 0.85); }\n  }\n  \n  .main-control-btn:hover {\n    transform: scale(1.15);\n    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);\n    animation-duration: 2s;\n    background: rgba(102, 126, 234, 0.95);\n  }\n  \n  .tool-buttons {\n    display: none;\n    flex-direction: column;\n    gap: 5px;\n    transition: all 0.3s ease;\n  }\n  \n  .tool-buttons.show {\n    display: flex;\n  }\n  \n  .tool-btn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n    border: none;\n    border-radius: 50%;\n    font-size: 14px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n    position: relative;\n    overflow: hidden;\n    z-index: 2147483646;\n    opacity: 0.85;\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n  }\n  \n  .tool-btn:hover {\n    transform: scale(1.15);\n    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);\n    opacity: 1;\n  }\n  \n  .back-btn {\n    background: rgba(255, 107, 107, 0.85);\n    color: white;\n    animation: colorChange1 6s infinite alternate;\n  }\n  \n  .forward-btn {\n    background: rgba(79, 172, 254, 0.85);\n    color: white;\n    animation: colorChange2 7s infinite alternate;\n  }\n  \n  .record-btn {\n    background: rgba(240, 147, 251, 0.85);\n    color: white;\n    animation: colorChange3 5s infinite alternate;\n  }\n  \n  .screenshot-btn {\n    background: rgba(78, 205, 196, 0.85);\n    color: white;\n    animation: colorChange4 8s infinite alternate;\n  }\n  \n  .link-jump-btn {\n    background: rgba(255, 193, 7, 0.85);\n    color: white;\n    animation: colorChange5 6.5s infinite alternate;\n  }\n  \n  .download-btn-tool {\n    background: rgba(76, 175, 80, 0.85);\n    color: white;\n    animation: colorChange6 7.5s infinite alternate;\n  }\n  \n  .link-download-btn {\n    background: rgba(156, 39, 176, 0.85);\n    color: white;\n    animation: colorChange9 7s infinite alternate;\n  }\n  \n  .color-btn {\n    background: rgba(168, 237, 234, 0.85);\n    color: #333;\n    animation: colorChange7 9s infinite alternate;\n  }\n  \n  .settings-btn {\n    background: rgba(210, 153, 194, 0.85);\n    color: #333;\n    animation: colorChange8 8.5s infinite alternate;\n  }\n  \n  .stop-btn {\n    background: rgba(255, 0, 0, 0.85);\n    color: white;\n    animation: pulse 1.5s infinite, colorChangeStop 4s infinite alternate;\n  }\n  \n  .delay-stop-btn {\n    background: rgba(255, 140, 0, 0.85);\n    color: white;\n    animation: pulseDelay 2s infinite, colorChangeDelay 5s infinite alternate;\n  }\n  \n  @keyframes colorChange1 {\n    0% { background: rgba(255, 107, 107, 0.85); }\n    100% { background: rgba(255, 142, 142, 0.85); }\n  }\n  \n  @keyframes colorChange2 {\n    0% { background: rgba(79, 172, 254, 0.85); }\n    100% { background: rgba(107, 193, 255, 0.85); }\n  }\n  \n  @keyframes colorChange3 {\n    0% { background: rgba(240, 147, 251, 0.85); }\n    100% { background: rgba(245, 169, 251, 0.85); }\n  }\n  \n  @keyframes colorChange4 {\n    0% { background: rgba(78, 205, 196, 0.85); }\n    100% { background: rgba(95, 224, 214, 0.85); }\n  }\n  \n  @keyframes colorChange5 {\n    0% { background: rgba(255, 193, 7, 0.85); }\n    100% { background: rgba(255, 213, 79, 0.85); }\n  }\n  \n  @keyframes colorChange6 {\n    0% { background: rgba(76, 175, 80, 0.85); }\n    100% { background: rgba(105, 190, 110, 0.85); }\n  }\n  \n  @keyframes colorChange7 {\n    0% { background: rgba(168, 237, 234, 0.85); }\n    100% { background: rgba(194, 245, 242, 0.85); }\n  }\n  \n  @keyframes colorChange8 {\n    0% { background: rgba(210, 153, 194, 0.85); }\n    100% { background: rgba(224, 179, 211, 0.85); }\n  }\n  \n  @keyframes colorChange9 {\n    0% { background: rgba(156, 39, 176, 0.85); }\n    100% { background: rgba(186, 104, 200, 0.85); }\n  }\n  \n  @keyframes colorChangeStop {\n    0% { background: rgba(255, 0, 0, 0.85); }\n    100% { background: rgba(255, 51, 51, 0.85); }\n  }\n  \n  @keyframes colorChangeDelay {\n    0% { background: rgba(255, 140, 0, 0.85); }\n    100% { background: rgba(255, 153, 51, 0.85); }\n  }\n  \n  @keyframes pulse {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.08); }\n    100% { transform: scale(1); }\n  }\n  \n  @keyframes pulseDelay {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.05); }\n    100% { transform: scale(1); }\n  }\n  \n  .button-icon {\n    font-size: 14px;\n  }\n  \n  /* å½•å±æ§åˆ¶é¢æ¿ */\n  .record-controls {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: rgba(255, 255, 255, 0.98);\n    padding: 25px;\n    border-radius: 20px;\n    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);\n    z-index: 2147483645;\n    display: none;\n    flex-direction: column;\n    gap: 20px;\n    min-width: 350px;\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.5);\n  }\n  \n  .record-controls.show {\n    display: flex;\n  }\n  \n  .record-options {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n  }\n  \n  .option-group {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n  \n  .option-label {\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 5px;\n  }\n  \n  .time-options {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 8px;\n  }\n  \n  .audio-options {\n    display: flex;\n    gap: 10px;\n    flex-wrap: wrap;\n  }\n  \n  .time-option, .audio-option {\n    padding: 12px 8px;\n    border: none;\n    border-radius: 10px;\n    background: linear-gradient(135deg, #f0f0f0, #e0e0e0);\n    cursor: pointer;\n    transition: all 0.3s ease;\n    font-size: 12px;\n    font-weight: 500;\n  }\n  \n  .time-option:hover, .audio-option:hover {\n    background: linear-gradient(135deg, #667eea, #764ba2);\n    color: white;\n    transform: translateY(-2px);\n  }\n  \n  .time-option.active, .audio-option.active {\n    background: linear-gradient(135deg, #667eea, #764ba2);\n    color: white;\n  }\n  \n  .close-btn {\n    padding: 12px;\n    border: none;\n    border-radius: 10px;\n    background: linear-gradient(135deg, #4ecdc4, #44a08d);\n    color: white;\n    cursor: pointer;\n    font-weight: 600;\n    transition: all 0.3s ease;\n  }\n\n  .cancel-btn {\n    padding: 12px;\n    border: none;\n    border-radius: 10px;\n    background: linear-gradient(135deg, #ff6b6b, #ee5a52);\n    color: white;\n    cursor: pointer;\n    font-weight: 600;\n    transition: all 0.3s ease;\n  }\n  \n  .action-btn {\n    padding: 12px;\n    border: none;\n    border-radius: 10px;\n    background: linear-gradient(135deg, #667eea, #764ba2);\n    color: white;\n    cursor: pointer;\n    font-weight: 600;\n    transition: all 0.3s ease;\n    flex: 1;\n  }\n  \n  .close-btn:hover, .cancel-btn:hover, .action-btn:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n  }\n  \n  /* é“¾æ¥è·³è½¬é¢æ¿ */\n  .link-jump-panel {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: rgba(255, 255, 255, 0.98);\n    padding: 25px;\n    border-radius: 20px;\n    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);\n    z-index: 2147483645;\n    display: none;\n    flex-direction: column;\n    gap: 20px;\n    min-width: 400px;\n    backdrop-filter: blur(10px);\n  }\n  \n  .link-jump-panel.show {\n    display: flex;\n  }\n  \n  .link-download-panel {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: rgba(255, 255, 255, 0.98);\n    padding: 25px;\n    border-radius: 20px;\n    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);\n    z-index: 2147483645;\n    display: none;\n    flex-direction: column;\n    gap: 20px;\n    min-width: 400px;\n    backdrop-filter: blur(10px);\n  }\n  \n  .link-download-panel.show {\n    display: flex;\n  }\n  \n  .input-group {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n  \n  .input-label {\n    font-weight: 600;\n    color: #333;\n  }\n  \n  .url-input {\n    padding: 12px 15px;\n    border: 1px solid #e0e0e0;\n    border-radius: 10px;\n    font-size: 14px;\n    transition: all 0.3s ease;\n  }\n  \n  .url-input:focus {\n    outline: none;\n    border-color: #667eea;\n    box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);\n  }\n  \n  .button-group {\n    display: flex;\n    gap: 10px;\n  }\n  \n  /* ä¸‹è½½åˆ†ç±»é¢æ¿ - æ–°æ ·å¼ */\n  .download-panel {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: rgba(255, 255, 255, 0.98);\n    padding: 25px;\n    border-radius: 20px;\n    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);\n    z-index: 2147483645;\n    display: none;\n    flex-direction: column;\n    gap: 20px;\n    min-width: 600px;\n    max-height: 80vh;\n    overflow: hidden;\n    backdrop-filter: blur(10px);\n  }\n  \n  .download-panel.show {\n    display: flex;\n  }\n  \n  .download-tabs {\n    display: flex;\n    border-bottom: 1px solid #e0e0e0;\n    margin-bottom: 15px;\n    overflow-x: auto;\n  }\n  \n  .download-tab {\n    padding: 10px 20px;\n    border: none;\n    background: transparent;\n    cursor: pointer;\n    font-weight: 500;\n    color: #666;\n    transition: all 0.3s ease;\n    position: relative;\n    white-space: nowrap;\n  }\n  \n  .download-tab.active {\n    color: #667eea;\n  }\n  \n  .download-tab.active::after {\n    content: '';\n    position: absolute;\n    bottom: -1px;\n    left: 0;\n    width: 100%;\n    height: 3px;\n    background: #667eea;\n    border-radius: 3px 3px 0 0;\n  }\n  \n  .download-content {\n    flex: 1;\n    overflow-y: auto;\n    padding-right: 10px;\n  }\n  \n  .download-category {\n    margin-bottom: 25px;\n  }\n  \n  .category-title {\n    font-size: 1.2rem;\n    font-weight: 600;\n    margin-bottom: 15px;\n    color: #444;\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n  \n  .file-list {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 15px;\n  }\n  \n  .file-item {\n    background: #f8f9fa;\n    border-radius: 12px;\n    padding: 15px;\n    display: flex;\n    align-items: center;\n    gap: 15px;\n    transition: all 0.3s ease;\n    border: 1px solid #e9ecef;\n  }\n  \n  .file-item:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n    border-color: #667eea;\n  }\n  \n  .file-icon {\n    width: 40px;\n    height: 40px;\n    border-radius: 8px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 1.2rem;\n    color: white;\n  }\n  \n  .file-info {\n    flex: 1;\n  }\n  \n  .file-name {\n    font-weight: 600;\n    margin-bottom: 5px;\n    color: #333;\n  }\n  \n  .file-url {\n    font-size: 0.85rem;\n    color: #666;\n    word-break: break-all;\n  }\n  \n  .file-actions {\n    display: flex;\n    gap: 5px;\n  }\n  \n  .download-action {\n    padding: 8px 12px;\n    border: none;\n    border-radius: 8px;\n    background: linear-gradient(135deg, #4ecdc4, #44a08d);\n    color: white;\n    cursor: pointer;\n    font-weight: 500;\n    font-size: 0.85rem;\n    transition: all 0.3s ease;\n  }\n  \n  .download-action:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);\n  }\n  \n  .empty-message {\n    text-align: center;\n    color: #666;\n    padding: 30px;\n    font-style: italic;\n  }\n  \n  /* é¢œè‰²è®¾ç½®é¢æ¿ */\n  .color-panel {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: rgba(255, 255, 255, 0.98);\n    padding: 25px;\n    border-radius: 20px;\n    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);\n    z-index: 2147483645;\n    display: none;\n    flex-direction: column;\n    gap: 20px;\n    min-width: 280px;\n    backdrop-filter: blur(10px);\n  }\n  \n  .color-panel.show {\n    display: flex;\n  }\n  \n  .color-options {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 10px;\n  }\n  \n  .color-option {\n    width: 45px;\n    height: 45px;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  }\n  \n  .color-option:hover {\n    transform: scale(1.15);\n  }\n\n  .custom-color-picker {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    margin-top: 10px;\n  }\n  \n  .custom-color-picker input {\n    flex: 1;\n    height: 40px;\n    border: none;\n    border-radius: 8px;\n    cursor: pointer;\n  }\n  \n  /* æ”¶è—åˆ—è¡¨ */\n  .collection-panel {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: rgba(255, 255, 255, 0.98);\n    padding: 25px;\n    border-radius: 20px;\n    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);\n    z-index: 2147483645;\n    display: none;\n    flex-direction: column;\n    gap: 20px;\n    min-width: 500px;\n    max-height: 500px;\n    overflow-y: auto;\n    backdrop-filter: blur(10px);\n  }\n  \n  .collection-panel.show {\n    display: flex;\n  }\n  \n  .collection-item {\n    padding: 15px;\n    border: 1px solid #e0e0e0;\n    border-radius: 12px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    transition: all 0.3s ease;\n    margin-bottom: 10px;\n  }\n  \n  .collection-item:hover {\n    border-color: #667eea;\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n  }\n  \n  .collection-item-preview {\n    width: 60px;\n    height: 60px;\n    border-radius: 8px;\n    object-fit: cover;\n    margin-right: 15px;\n  }\n  \n  .collection-item-info {\n    flex: 1;\n  }\n  \n  .collection-item-title {\n    font-weight: 600;\n    margin-bottom: 5px;\n    color: #333;\n  }\n  \n  .collection-item-date {\n    font-size: 12px;\n    color: #666;\n  }\n  \n  .collection-actions {\n    display: flex;\n    gap: 8px;\n  }\n  \n  .download-btn, .share-btn, .delete-btn {\n    padding: 8px 12px;\n    border: none;\n    border-radius: 8px;\n    cursor: pointer;\n    font-weight: 500;\n    transition: all 0.3s ease;\n    font-size: 12px;\n  }\n  \n  .download-btn {\n    background: linear-gradient(135deg, #4facfe, #00f2fe);\n    color: white;\n  }\n  \n  .share-btn {\n    background: linear-gradient(135deg, #a8edea, #fed6e3);\n    color: #333;\n  }\n  \n  .delete-btn {\n    background: linear-gradient(135deg, #ff6b6b, #ee5a52);\n    color: white;\n  }\n  \n  .download-btn:hover, .share-btn:hover, .delete-btn:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n  }\n  \n  /* ä¸‹è½½ç®¡ç†å™¨ */\n  .download-manager {\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    background: rgba(255, 255, 255, 0.95);\n    border-radius: 15px;\n    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\n    z-index: 2147483646;\n    min-width: 300px;\n    max-height: 400px;\n    overflow-y: auto;\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.5);\n    display: none;\n  }\n  \n  .download-manager.show {\n    display: block;\n  }\n  \n  .download-manager-header {\n    padding: 15px;\n    border-bottom: 1px solid #e0e0e0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  \n  .download-manager-title {\n    font-weight: 600;\n    color: #333;\n  }\n  \n  .download-manager-close {\n    background: none;\n    border: none;\n    font-size: 18px;\n    cursor: pointer;\n    color: #666;\n  }\n  \n  .download-manager-list {\n    padding: 10px;\n  }\n  \n  .download-task {\n    padding: 10px;\n    border-bottom: 1px solid #f0f0f0;\n  }\n  \n  .download-task:last-child {\n    border-bottom: none;\n  }\n  \n  .download-task-info {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 5px;\n  }\n  \n  .download-task-name {\n    font-size: 14px;\n    font-weight: 500;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 200px;\n  }\n  \n  .download-task-percentage {\n    font-size: 12px;\n    color: #666;\n  }\n  \n  .download-task-progress {\n    width: 100%;\n    height: 6px;\n    background: #f0f0f0;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n  \n  .download-task-progress-bar {\n    height: 100%;\n    background: linear-gradient(135deg, #4ecdc4, #44a08d);\n    width: 0%;\n    transition: width 0.3s ease;\n  }\n  \n  /* çŠ¶æ€æŒ‡ç¤ºå™¨ */\n  .status-indicator {\n    position: fixed;\n    top: 10px;\n    left: 10px;\n    background: rgba(0, 0, 0, 0.7);\n    color: white;\n    padding: 8px 15px;\n    border-radius: 20px;\n    font-size: 12px;\n    z-index: 2147483646;\n    display: none;\n    backdrop-filter: blur(10px);\n  }\n  \n  /* ç¡®ä¿æ‰€æœ‰å…ƒç´ åœ¨æœ€é¡¶å±‚ */\n  .control-panel *,\n  .record-controls *,\n  .color-panel *,\n  .collection-panel *,\n  .link-jump-panel *,\n  .link-download-panel *,\n  .download-panel *,\n  .download-manager * {\n    z-index: 2147483647 !important;\n  }\n  \n  @media (max-width: 768px) {\n    .control-panel {\n      top: 10px;\n      right: 10px;\n    }\n    \n    .main-control-btn,\n    .tool-btn {\n      width: 35px;\n      height: 35px;\n      font-size: 12px;\n    }\n    \n    .record-controls,\n    .color-panel,\n    .collection-panel,\n    .link-jump-panel,\n    .link-download-panel,\n    .download-panel {\n      min-width: 300px;\n      padding: 20px;\n    }\n\n    .download-panel {\n      min-width: 90vw;\n    }\n\n    .collection-panel {\n      min-width: 90vw;\n    }\n\n    .download-manager {\n      min-width: 90vw;\n      right: 5vw;\n      bottom: 10px;\n    }\n    \n    .file-list {\n      grid-template-columns: 1fr;\n    }\n    \n    .link-jump-panel,\n    .link-download-panel {\n      min-width: 90vw;\n    }\n  }\n`;\n\n  // åˆ›å»ºæ§åˆ¶é¢æ¿\n  const controlPanel = document.createElement('div');\n  controlPanel.className = 'control-panel';\n  controlPanel.setAttribute('data-draggable', 'true');\n\n  // åˆ›å»ºä¸»æ§åˆ¶æŒ‰é’®\n  const mainControlBtn = document.createElement('button');\n  mainControlBtn.className = 'main-control-btn';\n  mainControlBtn.innerHTML = 'âš™ï¸';\n  mainControlBtn.title = 'æ§åˆ¶é¢æ¿';\n\n  // åˆ›å»ºå·¥å…·æŒ‰é’®å®¹å™¨\n  const toolButtons = document.createElement('div');\n  toolButtons.className = 'tool-buttons';\n\n  // åˆ›å»ºå„ä¸ªåŠŸèƒ½æŒ‰é’®\n  const backButton = document.createElement('button');\n  backButton.className = 'tool-btn back-btn';\n  backButton.innerHTML = 'â†';\n  backButton.title = 'è¿”å›';\n\n  const forwardButton = document.createElement('button');\n  forwardButton.className = 'tool-btn forward-btn';\n  forwardButton.innerHTML = 'â†’';\n  forwardButton.title = 'å‰è¿›';\n\n  const recordButton = document.createElement('button');\n  recordButton.className = 'tool-btn record-btn';\n  recordButton.innerHTML = 'âºï¸';\n  recordButton.title = 'å½•å±';\n\n  const screenshotButton = document.createElement('button');\n  screenshotButton.className = 'tool-btn screenshot-btn';\n  screenshotButton.innerHTML = 'ğŸ“·';\n  screenshotButton.title = 'æˆªå›¾';\n\n  const linkJumpButton = document.createElement('button');\n  linkJumpButton.className = 'tool-btn link-jump-btn';\n  linkJumpButton.innerHTML = 'ğŸŒ';\n  linkJumpButton.title = 'é“¾æ¥è·³è½¬';\n\n  const downloadButton = document.createElement('button');\n  downloadButton.className = 'tool-btn download-btn-tool';\n  downloadButton.innerHTML = 'ğŸ“‚';\n  downloadButton.title = 'æ–‡ä»¶ä¸‹è½½';\n\n  const linkDownloadButton = document.createElement('button');\n  linkDownloadButton.className = 'tool-btn link-download-btn';\n  linkDownloadButton.innerHTML = 'â¬‡ï¸';\n  linkDownloadButton.title = 'é“¾æ¥ä¸‹è½½';\n\n  const colorButton = document.createElement('button');\n  colorButton.className = 'tool-btn color-btn';\n  colorButton.innerHTML = 'ğŸ¨';\n  colorButton.title = 'é¢œè‰²è®¾ç½®';\n\n  const settingsButton = document.createElement('button');\n  settingsButton.className = 'tool-btn settings-btn';\n  settingsButton.innerHTML = 'â­';\n  settingsButton.title = 'æ”¶è—';\n\n  const stopButton = document.createElement('button');\n  stopButton.className = 'tool-btn stop-btn';\n  stopButton.innerHTML = 'â¹ï¸';\n  stopButton.title = 'ç«‹å³åœæ­¢';\n  stopButton.style.display = 'none';\n\n  const delayStopButton = document.createElement('button');\n  delayStopButton.className = 'tool-btn delay-stop-btn';\n  delayStopButton.innerHTML = 'â±ï¸';\n  delayStopButton.title = 'å»¶æ—¶åœæ­¢';\n  delayStopButton.style.display = 'none';\n\n  // å½•å±æ§åˆ¶é¢æ¿\n  const recordControls = document.createElement('div');\n  recordControls.className = 'record-controls';\n  recordControls.innerHTML = `\n    <h3 style=\"margin: 0; text-align: center; color: #333;\">å½•å±è®¾ç½®</h3>\n    <div class=\"record-options\">\n      <div class=\"option-group\">\n        <div class=\"option-label\">å½•å±æ—¶é•¿</div>\n        <div class=\"time-options\">\n          <button class=\"time-option\" data-time=\"5\">5ç§’</button>\n          <button class=\"time-option\" data-time=\"10\">10ç§’</button>\n          <button class=\"time-option\" data-time=\"300\">5åˆ†é’Ÿ</button>\n          <button class=\"time-option\" data-time=\"600\">10åˆ†é’Ÿ</button>\n          <button class=\"time-option\" data-time=\"1200\">20åˆ†é’Ÿ</button>\n          <button class=\"time-option\" data-time=\"1800\">30åˆ†é’Ÿ</button>\n          <button class=\"time-option\" data-time=\"3600\">1å°æ—¶</button>\n          <button class=\"time-option\" data-time=\"0\">è‡ªå®šä¹‰</button>\n        </div>\n      </div>\n      <div class=\"option-group\">\n        <div class=\"option-label\">éŸ³é¢‘å½•åˆ¶</div>\n        <div class=\"audio-options\">\n          <button class=\"audio-option active\" data-audio=\"none\">æ— å£°</button>\n          <button class=\"audio-option\" data-audio=\"microphone\">éº¦å…‹é£</button>\n          <button class=\"audio-option\" data-audio=\"system\">ç³»ç»Ÿå£°éŸ³</button>\n          <button class=\"audio-option\" data-audio=\"both\">ä¸¤è€…éƒ½å½•</button>\n        </div>\n      </div>\n    </div>\n    <div style=\"display: flex; gap: 10px;\">\n      <button class=\"close-btn\" style=\"flex: 1;\">å¼€å§‹å½•å±</button>\n      <button class=\"cancel-btn\" style=\"flex: 1;\">å…³é—­</button>\n    </div>\n  `;\n\n  // é“¾æ¥è·³è½¬é¢æ¿\n  const linkJumpPanel = document.createElement('div');\n  linkJumpPanel.className = 'link-jump-panel';\n  linkJumpPanel.innerHTML = `\n    <h3 style=\"margin: 0; text-align: center; color: #333;\">ç½‘ç«™é“¾æ¥è·³è½¬</h3>\n    <div class=\"input-group\">\n      <label class=\"input-label\">è¯·è¾“å…¥ç½‘ç«™é“¾æ¥ï¼š</label>\n      <input type=\"url\" class=\"url-input\" id=\"jumpUrl\" placeholder=\"https://example.com\" value=\"https://\">\n    </div>\n    <div class=\"button-group\">\n      <button class=\"action-btn\" id=\"jumpAction\">ç«‹å³è·³è½¬</button>\n      <button class=\"cancel-btn\">å…³é—­</button>\n    </div>\n  `;\n\n  // é“¾æ¥ä¸‹è½½é¢æ¿\n  const linkDownloadPanel = document.createElement('div');\n  linkDownloadPanel.className = 'link-download-panel';\n  linkDownloadPanel.innerHTML = `\n    <h3 style=\"margin: 0; text-align: center; color: #333;\">é“¾æ¥æ–‡ä»¶ä¸‹è½½</h3>\n    <div class=\"input-group\">\n      <label class=\"input-label\">è¯·è¾“å…¥ä¸‹è½½é“¾æ¥ï¼š</label>\n      <input type=\"url\" class=\"url-input\" id=\"downloadUrl\" placeholder=\"https://example.com/file.zip\">\n    </div>\n    <div class=\"input-group\">\n      <label class=\"input-label\">æ–‡ä»¶åï¼ˆå¯é€‰ï¼‰ï¼š</label>\n      <input type=\"text\" class=\"url-input\" id=\"downloadFilename\" placeholder=\"è‡ªå®šä¹‰æ–‡ä»¶å\">\n    </div>\n    <div class=\"button-group\">\n      <button class=\"action-btn\" id=\"downloadAction\">å¼€å§‹ä¸‹è½½</button>\n      <button class=\"cancel-btn\">å…³é—­</button>\n    </div>\n  `;\n\n  // ä¸‹è½½åˆ†ç±»é¢æ¿ - æ–°çš„ä¸‹è½½é¢æ¿\n  const downloadPanel = document.createElement('div');\n  downloadPanel.className = 'download-panel';\n  downloadPanel.innerHTML = `\n    <h3 style=\"margin: 0; text-align: center; color: #333;\">æ–‡ä»¶ä¸‹è½½åˆ†ç±»</h3>\n    \n    <div class=\"download-tabs\">\n      <button class=\"download-tab active\" data-tab=\"all\">å…¨éƒ¨æ–‡ä»¶</button>\n      <button class=\"download-tab\" data-tab=\"video\">è§†é¢‘</button>\n      <button class=\"download-tab\" data-tab=\"audio\">éŸ³é¢‘</button>\n      <button class=\"download-tab\" data-tab=\"image\">å›¾ç‰‡</button>\n      <button class=\"download-tab\" data-tab=\"document\">æ–‡æ¡£</button>\n      <button class=\"download-tab\" data-tab=\"archive\">å‹ç¼©åŒ…</button>\n      <button class=\"download-tab\" data-tab=\"software\">è½¯ä»¶</button>\n    </div>\n    \n    <div class=\"download-content\">\n      <div class=\"download-category\" id=\"all-category\">\n        <h3 class=\"category-title\">å…¨éƒ¨å¯ä¸‹è½½æ–‡ä»¶</h3>\n        <div class=\"file-list\" id=\"all-files\">\n          <!-- åŠ¨æ€ç”Ÿæˆæ–‡ä»¶åˆ—è¡¨ -->\n        </div>\n      </div>\n      \n      <div class=\"download-category\" id=\"video-category\" style=\"display: none;\">\n        <h3 class=\"category-title\"><i>ğŸ¥</i> è§†é¢‘æ–‡ä»¶</h3>\n        <div class=\"file-list\" id=\"video-files\">\n          <!-- åŠ¨æ€ç”Ÿæˆè§†é¢‘æ–‡ä»¶åˆ—è¡¨ -->\n        </div>\n      </div>\n      \n      <div class=\"download-category\" id=\"audio-category\" style=\"display: none;\">\n        <h3 class=\"category-title\"><i>ğŸµ</i> éŸ³é¢‘æ–‡ä»¶</h3>\n        <div class=\"file-list\" id=\"audio-files\">\n          <!-- åŠ¨æ€ç”ŸæˆéŸ³é¢‘æ–‡ä»¶åˆ—è¡¨ -->\n        </div>\n      </div>\n      \n      <div class=\"download-category\" id=\"image-category\" style=\"display: none;\">\n        <h3 class=\"category-title\"><i>ğŸ–¼ï¸</i> å›¾ç‰‡æ–‡ä»¶</h3>\n        <div class=\"file-list\" id=\"image-files\">\n          <!-- åŠ¨æ€ç”Ÿæˆå›¾ç‰‡æ–‡ä»¶åˆ—è¡¨ -->\n        </div>\n      </div>\n      \n      <div class=\"download-category\" id=\"document-category\" style=\"display: none;\">\n        <h3 class=\"category-title\"><i>ğŸ“„</i> æ–‡æ¡£æ–‡ä»¶</h3>\n        <div class=\"file-list\" id=\"document-files\">\n          <!-- åŠ¨æ€ç”Ÿæˆæ–‡æ¡£æ–‡ä»¶åˆ—è¡¨ -->\n        </div>\n      </div>\n      \n      <div class=\"download-category\" id=\"archive-category\" style=\"display: none;\">\n        <h3 class=\"category-title\"><i>ğŸ“¦</i> å‹ç¼©æ–‡ä»¶</h3>\n        <div class=\"file-list\" id=\"archive-files\">\n          <!-- åŠ¨æ€ç”Ÿæˆå‹ç¼©æ–‡ä»¶åˆ—è¡¨ -->\n        </div>\n      </div>\n      \n      <div class=\"download-category\" id=\"software-category\" style=\"display: none;\">\n        <h3 class=\"category-title\"><i>ğŸ’»</i> è½¯ä»¶ç¨‹åº</h3>\n        <div class=\"file-list\" id=\"software-files\">\n          <!-- åŠ¨æ€ç”Ÿæˆè½¯ä»¶æ–‡ä»¶åˆ—è¡¨ -->\n        </div>\n      </div>\n    </div>\n    \n    <button class=\"cancel-btn\">å…³é—­</button>\n  `;\n\n  // é¢œè‰²è®¾ç½®é¢æ¿\n  const colorPanel = document.createElement('div');\n  colorPanel.className = 'color-panel';\n  colorPanel.innerHTML = `\n    <h3 style=\"margin: 0; text-align: center; color: #333;\">é€‰æ‹©ä¸»é¢˜é¢œè‰²</h3>\n    <div class=\"color-options\">\n      <button class=\"color-option\" style=\"background: linear-gradient(135deg, #667eea, #764ba2)\"></button>\n      <button class=\"color-option\" style=\"background: linear-gradient(135deg, #f093fb, #f5576c)\"></button>\n      <button class=\"color-option\" style=\"background: linear-gradient(135deg, #4ecdc4, #44a08d)\"></button>\n      <button class=\"color-option\" style=\"background: linear-gradient(135deg, #ff6b6b, #ee5a52)\"></button>\n      <button class=\"color-option\" style=\"background: linear-gradient(135deg, #4facfe, #00f2fe)\"></button>\n      <button class=\"color-option\" style=\"background: linear-gradient(135deg, #a8edea, #fed6e3)\"></button>\n      <button class=\"color-option\" style=\"background: linear-gradient(135deg, #d299c2, #fef9d7)\"></button>\n      <button class=\"color-option\" style=\"background: linear-gradient(135deg, #fd746c, #ff9068)\"></button>\n    </div>\n    <div class=\"custom-color-picker\">\n      <input type=\"color\" id=\"customColorPicker\" value=\"#667eea\">\n      <span>è‡ªå®šä¹‰é¢œè‰²</span>\n    </div>\n    <button class=\"cancel-btn\">å…³é—­</button>\n  `;\n\n  // æ”¶è—é¢æ¿\n  const collectionPanel = document.createElement('div');\n  collectionPanel.className = 'collection-panel';\n  collectionPanel.innerHTML = `\n    <h3 style=\"margin: 0; text-align: center; color: #333;\">æˆ‘çš„æ”¶è—</h3>\n    <div class=\"collection-list\"></div>\n    <button class=\"cancel-btn\">å…³é—­</button>\n  `;\n\n  // ä¸‹è½½ç®¡ç†å™¨\n  const downloadManager = document.createElement('div');\n  downloadManager.className = 'download-manager';\n  downloadManager.innerHTML = `\n    <div class=\"download-manager-header\">\n      <div class=\"download-manager-title\">ä¸‹è½½ç®¡ç†å™¨</div>\n      <button class=\"download-manager-close\">Ã—</button>\n    </div>\n    <div class=\"download-manager-list\" id=\"downloadTaskList\">\n      <div style=\"text-align: center; color: #666; padding: 20px;\">æš‚æ— ä¸‹è½½ä»»åŠ¡</div>\n    </div>\n  `;\n\n  // çŠ¶æ€æŒ‡ç¤ºå™¨\n  const statusIndicator = document.createElement('div');\n  statusIndicator.className = 'status-indicator';\n  statusIndicator.textContent = 'å‡†å¤‡å°±ç»ª';\n\n  // å°†å…ƒç´ æ·»åŠ åˆ°é¡µé¢\n  document.head.appendChild(style);\n  toolButtons.appendChild(backButton);\n  toolButtons.appendChild(forwardButton);\n  toolButtons.appendChild(recordButton);\n  toolButtons.appendChild(screenshotButton);\n  toolButtons.appendChild(linkJumpButton);\n  toolButtons.appendChild(downloadButton);\n  toolButtons.appendChild(linkDownloadButton);\n  toolButtons.appendChild(colorButton);\n  toolButtons.appendChild(settingsButton);\n  toolButtons.appendChild(stopButton);\n  toolButtons.appendChild(delayStopButton);\n  \n  controlPanel.appendChild(mainControlBtn);\n  controlPanel.appendChild(toolButtons);\n  \n  document.body.appendChild(controlPanel);\n  document.body.appendChild(recordControls);\n  document.body.appendChild(linkJumpPanel);\n  document.body.appendChild(linkDownloadPanel);\n  document.body.appendChild(downloadPanel);\n  document.body.appendChild(colorPanel);\n  document.body.appendChild(collectionPanel);\n  document.body.appendChild(downloadManager);\n  document.body.appendChild(statusIndicator);\n\n  // çŠ¶æ€å˜é‡\n  let isRecording = false;\n  let mediaRecorder = null;\n  let recordedChunks = [];\n  let recordingTimer = null;\n  let audioStream = null;\n  let videoStream = null;\n  let collections = JSON.parse(localStorage.getItem('screenCollections') || '[]');\n  let selectedAudioOption = 'none';\n  let downloadTasks = JSON.parse(localStorage.getItem('downloadTasks') || '[]');\n\n  // æ˜¾ç¤ºçŠ¶æ€ä¿¡æ¯\n  function showStatus(message, duration = 3000) {\n    statusIndicator.textContent = message;\n    statusIndicator.style.display = 'block';\n    setTimeout(() => {\n      statusIndicator.style.display = 'none';\n    }, duration);\n  }\n\n  // æ˜¾ç¤º/éšè—å·¥å…·æŒ‰é’®\n  let toolsVisible = false;\n  mainControlBtn.addEventListener('click', function() {\n    toolsVisible = !toolsVisible;\n    if (toolsVisible) {\n      toolButtons.classList.add('show');\n      showStatus('æ§åˆ¶é¢æ¿å·²æ‰“å¼€');\n    } else {\n      toolButtons.classList.remove('show');\n      showStatus('æ§åˆ¶é¢æ¿å·²éšè—');\n    }\n  });\n\n  // æŒ‰é’®ç‚¹å‡»äº‹ä»¶\n  backButton.addEventListener('click', function() {\n    if (window.history.length > 1) {\n      window.history.back();\n      showStatus('è¿”å›ä¸Šä¸€é¡µ');\n    } else if (document.referrer) {\n      window.location.href = document.referrer;\n    }\n  });\n\n  forwardButton.addEventListener('click', function() {\n    if (window.history.length > 0) {\n      window.history.forward();\n      showStatus('å‰è¿›åˆ°ä¸‹ä¸€é¡µ');\n    }\n  });\n\n  // å½•å±åŠŸèƒ½\n  recordButton.addEventListener('click', function() {\n    recordControls.classList.add('show');\n    showStatus('æ‰“å¼€å½•å±è®¾ç½®');\n  });\n\n  // æˆªå›¾åŠŸèƒ½\n  screenshotButton.addEventListener('click', function() {\n    takeScreenshot();\n  });\n\n  // é“¾æ¥è·³è½¬åŠŸèƒ½\n  linkJumpButton.addEventListener('click', function() {\n    linkJumpPanel.classList.add('show');\n    showStatus('æ‰“å¼€é“¾æ¥è·³è½¬');\n  });\n\n  // æ–‡ä»¶ä¸‹è½½åŠŸèƒ½ - ä¿®æ”¹ä¸ºæ–°çš„ä¸‹è½½åˆ†ç±»é¢æ¿\n  downloadButton.addEventListener('click', function() {\n    scanPageForDownloads();\n    downloadPanel.classList.add('show');\n    showStatus('æ‰“å¼€æ–‡ä»¶ä¸‹è½½åˆ†ç±»');\n  });\n\n  // é“¾æ¥ä¸‹è½½åŠŸèƒ½\n  linkDownloadButton.addEventListener('click', function() {\n    linkDownloadPanel.classList.add('show');\n    showStatus('æ‰“å¼€é“¾æ¥ä¸‹è½½');\n  });\n\n  // é¢œè‰²è®¾ç½®\n  colorButton.addEventListener('click', function() {\n    colorPanel.classList.add('show');\n    showStatus('æ‰“å¼€é¢œè‰²è®¾ç½®');\n  });\n\n  // æ”¶è—åŠŸèƒ½\n  settingsButton.addEventListener('click', function() {\n    showCollections();\n  });\n\n  // ç«‹å³åœæ­¢åŠŸèƒ½\n  stopButton.addEventListener('click', function() {\n    stopRecording();\n    showStatus('å½•å±å·²ç«‹å³åœæ­¢');\n  });\n\n  // å»¶æ—¶åœæ­¢åŠŸèƒ½\n  delayStopButton.addEventListener('click', function() {\n    showStatus('å½•å±å°†åœ¨5ç§’ååœæ­¢');\n    setTimeout(() => {\n      stopRecording();\n      showStatus('å½•å±å·²å»¶æ—¶åœæ­¢');\n    }, 5000);\n  });\n\n  // å…³é—­æŒ‰é’®äº‹ä»¶ - å½•å±å¼€å§‹\n  recordControls.querySelector('.close-btn').addEventListener('click', function() {\n    const selectedTime = recordControls.querySelector('.time-option.active');\n    if (selectedTime) {\n      const time = parseInt(selectedTime.getAttribute('data-time'));\n      startRecording(time);\n      recordControls.classList.remove('show');\n    } else {\n      showStatus('è¯·é€‰æ‹©å½•å±æ—¶é•¿');\n    }\n  });\n\n  // å…³é—­æŒ‰é’®äº‹ä»¶ - å–æ¶ˆ\n  document.querySelectorAll('.cancel-btn').forEach(btn => {\n    btn.addEventListener('click', function() {\n      recordControls.classList.remove('show');\n      colorPanel.classList.remove('show');\n      collectionPanel.classList.remove('show');\n      linkJumpPanel.classList.remove('show');\n      linkDownloadPanel.classList.remove('show');\n      downloadPanel.classList.remove('show');\n    });\n  });\n\n  // é“¾æ¥è·³è½¬åŠŸèƒ½\n  document.getElementById('jumpAction').addEventListener('click', function() {\n    const urlInput = document.getElementById('jumpUrl');\n    let url = urlInput.value.trim();\n    \n    if (!url) {\n      showStatus('è¯·è¾“å…¥è¦è·³è½¬çš„ç½‘å€');\n      return;\n    }\n    \n    // ç¡®ä¿URLæœ‰åè®®å‰ç¼€\n    if (!url.startsWith('http://') && !url.startsWith('https://')) {\n      url = 'https://' + url;\n    }\n    \n    // éªŒè¯URLæ ¼å¼\n    try {\n      new URL(url);\n      showStatus('æ­£åœ¨è·³è½¬åˆ°: ' + url);\n      setTimeout(() => {\n        window.location.href = url;\n      }, 1000);\n    } catch (e) {\n      showStatus('ç½‘å€æ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·æ£€æŸ¥');\n    }\n  });\n\n  // é“¾æ¥ä¸‹è½½åŠŸèƒ½\n  document.getElementById('downloadAction').addEventListener('click', function() {\n    const urlInput = document.getElementById('downloadUrl');\n    const filenameInput = document.getElementById('downloadFilename');\n    \n    let url = urlInput.value.trim();\n    let filename = filenameInput.value.trim();\n    \n    if (!url) {\n      showStatus('è¯·è¾“å…¥ä¸‹è½½é“¾æ¥');\n      return;\n    }\n    \n    // å¦‚æœæ²¡æœ‰æŒ‡å®šæ–‡ä»¶åï¼Œä»URLä¸­æå–\n    if (!filename) {\n      const urlPath = new URL(url).pathname;\n      filename = urlPath.split('/').pop() || 'download';\n    }\n    \n    // å¼€å§‹ä¸‹è½½\n    downloadFile(url, filename);\n    linkDownloadPanel.classList.remove('show');\n  });\n\n  // ä¸‹è½½ç®¡ç†å™¨å…³é—­æŒ‰é’®\n  document.querySelector('.download-manager-close').addEventListener('click', function() {\n    downloadManager.classList.remove('show');\n  });\n\n  // ä¸‹è½½åˆ†ç±»æ ‡ç­¾åˆ‡æ¢\n  const downloadTabs = downloadPanel.querySelectorAll('.download-tab');\n  const downloadCategories = downloadPanel.querySelectorAll('.download-category');\n  \n  downloadTabs.forEach(tab => {\n    tab.addEventListener('click', function() {\n      // ç§»é™¤æ‰€æœ‰æ´»åŠ¨æ ‡ç­¾\n      downloadTabs.forEach(t => t.classList.remove('active'));\n      // æ·»åŠ å½“å‰æ´»åŠ¨æ ‡ç­¾\n      this.classList.add('active');\n      \n      // éšè—æ‰€æœ‰åˆ†ç±»\n      downloadCategories.forEach(cat => cat.style.display = 'none');\n      \n      // æ˜¾ç¤ºé€‰ä¸­çš„åˆ†ç±»\n      const tabId = this.getAttribute('data-tab');\n      document.getElementById(`${tabId}-category`).style.display = 'block';\n    });\n  });\n\n  // å½•å±æ—¶é•¿é€‰æ‹©\n  recordControls.querySelectorAll('.time-option').forEach(option => {\n    option.addEventListener('click', function() {\n      recordControls.querySelectorAll('.time-option').forEach(opt => {\n        opt.classList.remove('active');\n      });\n      this.classList.add('active');\n    });\n  });\n\n  // éŸ³é¢‘é€‰é¡¹é€‰æ‹©\n  recordControls.querySelectorAll('.audio-option').forEach(option => {\n    option.addEventListener('click', function() {\n      recordControls.querySelectorAll('.audio-option').forEach(opt => {\n        opt.classList.remove('active');\n      });\n      this.classList.add('active');\n      selectedAudioOption = this.getAttribute('data-audio');\n    });\n  });\n\n  // é¢„è®¾é¢œè‰²é€‰æ‹©\n  colorPanel.querySelectorAll('.color-option').forEach((option, index) => {\n    option.addEventListener('click', function() {\n      const gradients = [\n        'rgba(102, 126, 234, 0.85)',\n        'rgba(240, 147, 251, 0.85)',\n        'rgba(78, 205, 196, 0.85)',\n        'rgba(255, 107, 107, 0.85)',\n        'rgba(79, 172, 254, 0.85)',\n        'rgba(168, 237, 234, 0.85)',\n        'rgba(210, 153, 194, 0.85)',\n        'rgba(253, 116, 108, 0.85)'\n      ];\n      \n      applyCustomColor(gradients[index]);\n      showStatus('ä¸»é¢˜é¢œè‰²å·²æ›´æ”¹');\n    });\n  });\n\n  // è‡ªå®šä¹‰é¢œè‰²é€‰æ‹©\n  const customColorPicker = document.getElementById('customColorPicker');\n  customColorPicker.addEventListener('input', function() {\n    const hexColor = this.value;\n    const rgbColor = hexToRgb(hexColor);\n    if (rgbColor) {\n      const rgbaColor = `rgba(${rgbColor.r}, ${rgbColor.g}, ${rgbColor.b}, 0.85)`;\n      applyCustomColor(rgbaColor);\n    }\n  });\n\n  // åº”ç”¨è‡ªå®šä¹‰é¢œè‰²åˆ°æ‰€æœ‰æŒ‰é’®\n  function applyCustomColor(color) {\n    const buttons = [\n      mainControlBtn, backButton, forwardButton, recordButton, \n      screenshotButton, linkJumpButton, downloadButton, linkDownloadButton, \n      colorButton, settingsButton\n    ];\n    \n    buttons.forEach(button => {\n      button.style.background = color;\n      // ç§»é™¤åŠ¨ç”»ä»¥é¿å…å†²çª\n      button.style.animation = 'none';\n    });\n    \n    // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨\n    localStorage.setItem('customButtonColor', color);\n  }\n\n  // åŠ è½½ä¿å­˜çš„è‡ªå®šä¹‰é¢œè‰²\n  function loadCustomColor() {\n    const savedColor = localStorage.getItem('customButtonColor');\n    if (savedColor) {\n      applyCustomColor(savedColor);\n    }\n  }\n\n  // HEXè½¬RGB\n  function hexToRgb(hex) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n  }\n\n  // æˆªå›¾åŠŸèƒ½å®ç°\n  function takeScreenshot() {\n    html2canvas(document.body, {\n      useCORS: true,\n      allowTaint: true,\n      scale: 1,\n      logging: false\n    }).then(canvas => {\n      const link = document.createElement('a');\n      const timestamp = new Date().getTime();\n      const fileName = `screenshot-${timestamp}.png`;\n      link.download = fileName;\n      const dataUrl = canvas.toDataURL('image/png', 0.9);\n      link.href = dataUrl;\n      link.click();\n      \n      // æ·»åŠ åˆ°æ”¶è—\n      addToCollection('screenshot', dataUrl, `æˆªå›¾ ${new Date().toLocaleString()}`, fileName);\n      showStatus('æˆªå›¾å·²ä¿å­˜å¹¶æ·»åŠ åˆ°æ”¶è—');\n    }).catch(err => {\n      console.error('æˆªå›¾å¤±è´¥:', err);\n      showStatus('æˆªå›¾å¤±è´¥ï¼Œè¯·é‡è¯•');\n    });\n  }\n\n  // æ‰«æé¡µé¢ä¸­çš„å¯ä¸‹è½½æ–‡ä»¶ - æ–°çš„æ‰«æå‡½æ•°\n  function scanPageForDownloads() {\n    // æ¸…ç©ºç°æœ‰æ–‡ä»¶åˆ—è¡¨\n    const fileLists = document.querySelectorAll('.file-list');\n    fileLists.forEach(list => list.innerHTML = '');\n    \n    // æ”¶é›†æ‰€æœ‰é“¾æ¥\n    const links = document.querySelectorAll('a[href]');\n    const downloadFiles = [];\n    \n    links.forEach(link => {\n      const href = link.href;\n      const text = link.textContent.trim() || link.getAttribute('download') || 'æœªå‘½åæ–‡ä»¶';\n      \n      // æ£€æŸ¥æ˜¯å¦æ˜¯ä¸‹è½½é“¾æ¥\n      if (isDownloadLink(href)) {\n        const fileInfo = categorizeFile(href, text);\n        downloadFiles.push(fileInfo);\n      }\n    });\n    \n    // æ”¶é›†æ‰€æœ‰åª’ä½“å…ƒç´ \n    const videos = document.querySelectorAll('video');\n    videos.forEach(video => {\n      if (video.src) {\n        const fileInfo = categorizeFile(video.src, 'è§†é¢‘æ–‡ä»¶');\n        downloadFiles.push(fileInfo);\n      }\n    });\n    \n    const audios = document.querySelectorAll('audio');\n    audios.forEach(audio => {\n      if (audio.src) {\n        const fileInfo = categorizeFile(audio.src, 'éŸ³é¢‘æ–‡ä»¶');\n        downloadFiles.push(fileInfo);\n      }\n    });\n    \n    // æ”¶é›†æ‰€æœ‰å›¾ç‰‡\n    const images = document.querySelectorAll('img');\n    images.forEach(img => {\n      if (img.src && !img.src.startsWith('data:')) {\n        const fileInfo = categorizeFile(img.src, 'å›¾ç‰‡æ–‡ä»¶');\n        downloadFiles.push(fileInfo);\n      }\n    });\n    \n    // å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ–‡ä»¶ï¼Œæ˜¾ç¤ºæç¤ºä¿¡æ¯\n    if (downloadFiles.length === 0) {\n      fileLists.forEach(list => {\n        list.innerHTML = '<div class=\"empty-message\">æœªæ‰¾åˆ°å¯ä¸‹è½½æ–‡ä»¶</div>';\n      });\n      return;\n    }\n    \n    // æ¸²æŸ“æ–‡ä»¶åˆ—è¡¨\n    renderFileLists(downloadFiles);\n  }\n\n  // åˆ¤æ–­æ˜¯å¦æ˜¯ä¸‹è½½é“¾æ¥\n  function isDownloadLink(url) {\n    // æ’é™¤å¸¸è§éä¸‹è½½é“¾æ¥\n    if (url.includes('javascript:') || url.includes('mailto:') || url.includes('tel:') || \n        url.includes('#') || url.trim() === '') {\n      return false;\n    }\n    \n    // æ£€æŸ¥æ–‡ä»¶æ‰©å±•å\n    const downloadExtensions = [\n      // è§†é¢‘\n      '.mp4', '.avi', '.mov', '.wmv', '.flv', '.webm', '.mkv', '.m4v',\n      // éŸ³é¢‘\n      '.mp3', '.wav', '.ogg', '.flac', '.aac', '.m4a', '.wma',\n      // å›¾ç‰‡\n      '.jpg', '.jpeg', '.png', '.gif', '.bmp', '.webp', '.svg', '.ico',\n      // æ–‡æ¡£\n      '.pdf', '.doc', '.docx', '.xls', '.xlsx', '.ppt', '.pptx', '.txt', '.rtf',\n      // å‹ç¼©åŒ…\n      '.zip', '.rar', '.7z', '.tar', '.gz', '.bz2',\n      // è½¯ä»¶\n      '.exe', '.msi', '.dmg', '.pkg', '.deb', '.rpm', '.apk'\n    ];\n    \n    return downloadExtensions.some(ext => url.toLowerCase().includes(ext));\n  }\n\n  // åˆ†ç±»æ–‡ä»¶\n  function categorizeFile(url, name) {\n    const extension = getFileExtension(url);\n    \n    // æ ¹æ®æ‰©å±•ååˆ†ç±»\n    if (['.mp4', '.avi', '.mov', '.wmv', '.flv', '.webm', '.mkv', '.m4v'].includes(extension)) {\n      return { url, name, category: 'video', icon: 'ğŸ¥', color: '#ff6b6b' };\n    } else if (['.mp3', '.wav', '.ogg', '.flac', '.aac', '.m4a', '.wma'].includes(extension)) {\n      return { url, name, category: 'audio', icon: 'ğŸµ', color: '#4ecdc4' };\n    } else if (['.jpg', '.jpeg', '.png', '.gif', '.bmp', '.webp', '.svg', '.ico'].includes(extension)) {\n      return { url, name, category: 'image', icon: 'ğŸ–¼ï¸', color: '#a8edea' };\n    } else if (['.pdf', '.doc', '.docx', '.xls', '.xlsx', '.ppt', '.pptx', '.txt', '.rtf'].includes(extension)) {\n      return { url, name, category: 'document', icon: 'ğŸ“„', color: '#f093fb' };\n    } else if (['.zip', '.rar', '.7z', '.tar', '.gz', '.bz2'].includes(extension)) {\n      return { url, name, category: 'archive', icon: 'ğŸ“¦', color: '#fd746c' };\n    } else if (['.exe', '.msi', '.dmg', '.pkg', '.deb', '.rpm', '.apk'].includes(extension)) {\n      return { url, name, category: 'software', icon: 'ğŸ’»', color: '#667eea' };\n    } else {\n      return { url, name, category: 'other', icon: 'ğŸ“', color: '#95a5a6' };\n    }\n  }\n\n  // è·å–æ–‡ä»¶æ‰©å±•å\n  function getFileExtension(url) {\n    const path = url.split('?')[0]; // ç§»é™¤æŸ¥è¯¢å‚æ•°\n    const filename = path.split('/').pop();\n    const lastDotIndex = filename.lastIndexOf('.');\n    \n    if (lastDotIndex === -1) return '';\n    return filename.substring(lastDotIndex).toLowerCase();\n  }\n\n  // æ¸²æŸ“æ–‡ä»¶åˆ—è¡¨\n  function renderFileLists(files) {\n    // æŒ‰åˆ†ç±»åˆ†ç»„\n    const categorizedFiles = {\n      all: files,\n      video: files.filter(f => f.category === 'video'),\n      audio: files.filter(f => f.category === 'audio'),\n      image: files.filter(f => f.category === 'image'),\n      document: files.filter(f => f.category === 'document'),\n      archive: files.filter(f => f.category === 'archive'),\n      software: files.filter(f => f.category === 'software')\n    };\n    \n    // æ¸²æŸ“æ¯ä¸ªåˆ†ç±»\n    Object.keys(categorizedFiles).forEach(category => {\n      const fileList = document.getElementById(`${category}-files`);\n      const categoryFiles = categorizedFiles[category];\n      \n      if (categoryFiles.length === 0) {\n        fileList.innerHTML = '<div class=\"empty-message\">æœªæ‰¾åˆ°æ­¤ç±»æ–‡ä»¶</div>';\n        return;\n      }\n      \n      fileList.innerHTML = '';\n      \n      categoryFiles.forEach(file => {\n        const fileItem = document.createElement('div');\n        fileItem.className = 'file-item';\n        \n        fileItem.innerHTML = `\n          <div class=\"file-icon\" style=\"background: ${file.color}\">\n            ${file.icon}\n          </div>\n          <div class=\"file-info\">\n            <div class=\"file-name\">${file.name}</div>\n            <div class=\"file-url\">${file.url}</div>\n          </div>\n          <div class=\"file-actions\">\n            <button class=\"download-action\" data-url=\"${file.url}\" data-name=\"${file.name}\">ä¸‹è½½</button>\n          </div>\n        `;\n        \n        fileList.appendChild(fileItem);\n      });\n    });\n    \n    // æ·»åŠ ä¸‹è½½æŒ‰é’®äº‹ä»¶\n    document.querySelectorAll('.download-action').forEach(btn => {\n      btn.addEventListener('click', function() {\n        const url = this.getAttribute('data-url');\n        const name = this.getAttribute('data-name');\n        downloadFile(url, name);\n      });\n    });\n  }\n\n  // ä¸‹è½½æ–‡ä»¶\n  function downloadFile(url, filename) {\n    // åˆ›å»ºä¸‹è½½é“¾æ¥\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = filename || 'download';\n    link.target = '_blank';\n    \n    // è§¦å‘ä¸‹è½½\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    \n    // æ·»åŠ åˆ°ä¸‹è½½ç®¡ç†å™¨\n    addToDownloadManager(url, filename);\n    showStatus('æ–‡ä»¶ä¸‹è½½å·²å¼€å§‹');\n  }\n\n  // æ·»åŠ åˆ°ä¸‹è½½ç®¡ç†å™¨\n  function addToDownloadManager(url, filename) {\n    const taskId = Date.now();\n    \n    const downloadTask = {\n      id: taskId,\n      name: filename,\n      url: url,\n      progress: 0,\n      status: 'downloading'\n    };\n    \n    downloadTasks.push(downloadTask);\n    localStorage.setItem('downloadTasks', JSON.stringify(downloadTasks));\n    \n    // æ›´æ–°ä¸‹è½½ç®¡ç†å™¨æ˜¾ç¤º\n    updateDownloadManager();\n    \n    // æ¨¡æ‹Ÿä¸‹è½½è¿›åº¦\n    simulateDownloadProgress(taskId);\n  }\n\n  // æ¨¡æ‹Ÿä¸‹è½½è¿›åº¦\n  function simulateDownloadProgress(taskId) {\n    let progress = 0;\n    const interval = setInterval(() => {\n      progress += Math.random() * 10;\n      \n      if (progress >= 100) {\n        progress = 100;\n        clearInterval(interval);\n        \n        // æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå®Œæˆ\n        const taskIndex = downloadTasks.findIndex(task => task.id === taskId);\n        if (taskIndex !== -1) {\n          downloadTasks[taskIndex].status = 'completed';\n          downloadTasks[taskIndex].progress = 100;\n          localStorage.setItem('downloadTasks', JSON.stringify(downloadTasks));\n          updateDownloadManager();\n        }\n      } else {\n        // æ›´æ–°ä»»åŠ¡è¿›åº¦\n        const taskIndex = downloadTasks.findIndex(task => task.id === taskId);\n        if (taskIndex !== -1) {\n          downloadTasks[taskIndex].progress = Math.round(progress);\n          localStorage.setItem('downloadTasks', JSON.stringify(downloadTasks));\n          updateDownloadManager();\n        }\n      }\n    }, 200);\n  }\n\n  // æ›´æ–°ä¸‹è½½ç®¡ç†å™¨\n  function updateDownloadManager() {\n    const taskList = document.getElementById('downloadTaskList');\n    taskList.innerHTML = '';\n    \n    if (downloadTasks.length === 0) {\n      taskList.innerHTML = '<div style=\"text-align: center; color: #666; padding: 20px;\">æš‚æ— ä¸‹è½½ä»»åŠ¡</div>';\n      return;\n    }\n    \n    downloadTasks.forEach(task => {\n      const taskElement = document.createElement('div');\n      taskElement.className = 'download-task';\n      \n      let statusText = '';\n      let statusClass = '';\n      \n      if (task.status === 'downloading') {\n        statusText = `ä¸‹è½½ä¸­ ${task.progress}%`;\n      } else if (task.status === 'completed') {\n        statusText = 'å·²å®Œæˆ';\n        statusClass = 'completed';\n      } else if (task.status === 'error') {\n        statusText = 'ä¸‹è½½å¤±è´¥';\n        statusClass = 'error';\n      }\n      \n      taskElement.innerHTML = `\n        <div class=\"download-task-info\">\n          <div class=\"download-task-name\">${task.name}</div>\n          <div class=\"download-task-percentage ${statusClass}\">${statusText}</div>\n        </div>\n        <div class=\"download-task-progress\">\n          <div class=\"download-task-progress-bar\" style=\"width: ${task.progress}%\"></div>\n        </div>\n      `;\n      \n      taskList.appendChild(taskElement);\n    });\n  }\n\n  // å¼€å§‹å½•å±\n  async function startRecording(duration) {\n    try {\n      showStatus('æ­£åœ¨å¯åŠ¨å½•å±...');\n      \n      // è·å–å±å¹•æµ\n      videoStream = await navigator.mediaDevices.getDisplayMedia({\n        video: { \n          mediaSource: \"screen\",\n          width: { ideal: 1920 },\n          height: { ideal: 1080 },\n          frameRate: { ideal: 30 }\n        },\n        audio: selectedAudioOption === 'system' || selectedAudioOption === 'both'\n      });\n\n      const streams = [videoStream];\n      \n      // æ ¹æ®é€‰æ‹©æ·»åŠ éŸ³é¢‘æµ\n      if (selectedAudioOption === 'microphone' || selectedAudioOption === 'both') {\n        try {\n          audioStream = await navigator.mediaDevices.getUserMedia({\n            audio: {\n              echoCancellation: true,\n              noiseSuppression: true,\n              sampleRate: 44100\n            }\n          });\n          streams.push(audioStream);\n        } catch (audioErr) {\n          console.warn('éº¦å…‹é£è®¿é—®å¤±è´¥:', audioErr);\n          showStatus('éº¦å…‹é£è®¿é—®å¤±è´¥ï¼Œå°†ç»§ç»­å½•åˆ¶æ— å£°è§†é¢‘');\n        }\n      }\n\n      // åˆå¹¶æµ\n      const combinedStream = new MediaStream();\n      streams.forEach(stream => {\n        stream.getTracks().forEach(track => {\n          combinedStream.addTrack(track);\n        });\n      });\n\n      mediaRecorder = new MediaRecorder(combinedStream, {\n        mimeType: 'video/webm;codecs=vp9,opus',\n        videoBitsPerSecond: 5000000\n      });\n      \n      recordedChunks = [];\n\n      mediaRecorder.ondataavailable = function(e) {\n        if (e.data.size > 0) {\n          recordedChunks.push(e.data);\n        }\n      };\n\n      mediaRecorder.onstop = function() {\n        const blob = new Blob(recordedChunks, { type: 'video/webm' });\n        const url = URL.createObjectURL(blob);\n        \n        // åˆ›å»ºä¸‹è½½é“¾æ¥\n        const link = document.createElement('a');\n        const timestamp = new Date().getTime();\n        const fileName = `recording-${timestamp}.webm`;\n        link.download = fileName;\n        link.href = url;\n        link.click();\n\n        // æ·»åŠ åˆ°æ”¶è—\n        addToCollection('recording', url, `å½•å± ${new Date().toLocaleString()}`, fileName);\n        \n        // æ¸…ç†\n        streams.forEach(stream => {\n          stream.getTracks().forEach(track => track.stop());\n        });\n        \n        isRecording = false;\n        stopButton.style.display = 'none';\n        delayStopButton.style.display = 'none';\n        \n        showStatus('å½•å±å·²ä¿å­˜å¹¶æ·»åŠ åˆ°æ”¶è—');\n      };\n\n      mediaRecorder.start(1000); // æ¯1ç§’æ”¶é›†ä¸€æ¬¡æ•°æ®\n      isRecording = true;\n      stopButton.style.display = 'block';\n      delayStopButton.style.display = 'block';\n      \n      showStatus('å½•å±å·²å¼€å§‹');\n\n      // è®¾ç½®å®šæ—¶åœæ­¢\n      if (duration > 0) {\n        recordingTimer = setTimeout(() => {\n          stopRecording();\n          showStatus('å®šæ—¶å½•å±å·²å®Œæˆ');\n        }, duration * 1000);\n      }\n    } catch (err) {\n      console.error('å½•å±å¤±è´¥:', err);\n      showStatus('å½•å±å¤±è´¥ï¼Œè¯·å…è®¸å±å¹•å…±äº«æƒé™');\n    }\n  }\n\n  // åœæ­¢å½•å±\n  function stopRecording() {\n    if (mediaRecorder && isRecording) {\n      mediaRecorder.stop();\n      isRecording = false;\n      stopButton.style.display = 'none';\n      delayStopButton.style.display = 'none';\n      \n      if (recordingTimer) {\n        clearTimeout(recordingTimer);\n        recordingTimer = null;\n      }\n      \n      if (audioStream) {\n        audioStream.getTracks().forEach(track => track.stop());\n        audioStream = null;\n      }\n      \n      if (videoStream) {\n        videoStream.getTracks().forEach(track => track.stop());\n        videoStream = null;\n      }\n    }\n  }\n\n  // æ·»åŠ åˆ°æ”¶è—\n  function addToCollection(type, url, title, fileName) {\n    const collection = {\n      id: Date.now(),\n      type: type,\n      url: url,\n      title: title,\n      fileName: fileName,\n      date: new Date().toISOString()\n    };\n    \n    collections.unshift(collection);\n    localStorage.setItem('screenCollections', JSON.stringify(collections));\n  }\n\n  // æ˜¾ç¤ºæ”¶è—\n  function showCollections() {\n    const collectionList = collectionPanel.querySelector('.collection-list');\n    collectionList.innerHTML = '';\n    \n    if (collections.length === 0) {\n      collectionList.innerHTML = '<div style=\"text-align: center; color: #666; padding: 20px;\">æš‚æ— æ”¶è—å†…å®¹</div>';\n    } else {\n      collections.forEach(item => {\n        const collectionItem = document.createElement('div');\n        collectionItem.className = 'collection-item';\n        \n        // åˆ›å»ºé¢„è§ˆå›¾\n        let previewHtml = '';\n        if (item.type === 'screenshot') {\n          previewHtml = `<img src=\"${item.url}\" class=\"collection-item-preview\" alt=\"${item.title}\">`;\n        } else if (item.type === 'video') {\n          previewHtml = `<div class=\"collection-item-preview\" style=\"background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;\">ğŸ¥</div>`;\n        } else {\n          previewHtml = `<div class=\"collection-item-preview\" style=\"background: linear-gradient(135deg, #4ecdc4, #44a08d); display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;\">âºï¸</div>`;\n        }\n        \n        collectionItem.innerHTML = `\n          ${previewHtml}\n          <div class=\"collection-item-info\">\n            <div class=\"collection-item-title\">${item.title}</div>\n            <div class=\"collection-item-date\">${new Date(item.date).toLocaleString()}</div>\n          </div>\n          <div class=\"collection-actions\">\n            <button class=\"download-btn\" data-id=\"${item.id}\">ä¸‹è½½</button>\n            <button class=\"share-btn\" data-id=\"${item.id}\">åˆ†äº«</button>\n            <button class=\"delete-btn\" data-id=\"${item.id}\">åˆ é™¤</button>\n          </div>\n        `;\n        \n        collectionList.appendChild(collectionItem);\n      });\n      \n      // ä¸‹è½½æŒ‰é’®äº‹ä»¶\n      collectionList.querySelectorAll('.download-btn').forEach(btn => {\n        btn.addEventListener('click', function() {\n          const id = parseInt(this.getAttribute('data-id'));\n          const item = collections.find(col => col.id === id);\n          if (item) {\n            const link = document.createElement('a');\n            link.download = item.fileName;\n            link.href = item.url;\n            link.click();\n            showStatus('æ–‡ä»¶ä¸‹è½½ä¸­...');\n          }\n        });\n      });\n      \n      // åˆ†äº«æŒ‰é’®äº‹ä»¶\n      collectionList.querySelectorAll('.share-btn').forEach(btn => {\n        btn.addEventListener('click', function() {\n          const id = parseInt(this.getAttribute('data-id'));\n          const item = collections.find(col => col.id === id);\n          if (item) {\n            shareItem(item);\n          }\n        });\n      });\n      \n      // åˆ é™¤æŒ‰é’®äº‹ä»¶\n      collectionList.querySelectorAll('.delete-btn').forEach(btn => {\n        btn.addEventListener('click', function() {\n          const id = parseInt(this.getAttribute('data-id'));\n          deleteItem(id);\n        });\n      });\n    }\n    \n    collectionPanel.classList.add('show');\n    showStatus('æ‰“å¼€æ”¶è—åˆ—è¡¨');\n  }\n\n  // åˆ†äº«é¡¹ç›®\n  function shareItem(item) {\n    if (navigator.share) {\n      navigator.share({\n        title: item.title,\n        text: 'åˆ†äº«æˆ‘çš„' + (item.type === 'screenshot' ? 'æˆªå›¾' : item.type === 'video' ? 'è§†é¢‘' : 'å½•å±'),\n        url: item.url\n      }).then(() => {\n        showStatus('åˆ†äº«æˆåŠŸ');\n      }).catch(err => {\n        console.error('åˆ†äº«å¤±è´¥:', err);\n        showStatus('åˆ†äº«å¤±è´¥');\n      });\n    } else {\n      // å¤‡ç”¨æ–¹æ¡ˆï¼šå¤åˆ¶åˆ°å‰ªè´´æ¿\n      navigator.clipboard.writeText(item.url).then(() => {\n        showStatus('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');\n      }).catch(err => {\n        console.error('å¤åˆ¶å¤±è´¥:', err);\n        // æœ€ç»ˆå¤‡ç”¨æ–¹æ¡ˆ\n        const textArea = document.createElement('textarea');\n        textArea.value = item.url;\n        document.body.appendChild(textArea);\n        textArea.select();\n        document.execCommand('copy');\n        document.body.removeChild(textArea);\n        showStatus('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');\n      });\n    }\n  }\n\n  // åˆ é™¤é¡¹ç›®\n  function deleteItem(id) {\n    if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé¡¹ç›®å—ï¼Ÿ')) {\n      collections = collections.filter(item => item.id !== id);\n      localStorage.setItem('screenCollections', JSON.stringify(collections));\n      showCollections(); // åˆ·æ–°åˆ—è¡¨\n      showStatus('é¡¹ç›®å·²åˆ é™¤');\n    }\n  }\n\n  // æ‹–åŠ¨åŠŸèƒ½\n  let isDragging = false;\n  let dragOffset = { x: 0, y: 0 };\n\n  controlPanel.addEventListener('mousedown', startDrag);\n  controlPanel.addEventListener('touchstart', startDrag);\n\n  function startDrag(e) {\n    if (!e.target.closest('.tool-btn') && e.target !== mainControlBtn) return;\n    \n    isDragging = true;\n    const rect = controlPanel.getBoundingClientRect();\n    \n    if (e.type === 'mousedown') {\n      dragOffset.x = e.clientX - rect.left;\n      dragOffset.y = e.clientY - rect.top;\n      document.addEventListener('mousemove', onDrag);\n      document.addEventListener('mouseup', stopDrag);\n    } else {\n      dragOffset.x = e.touches[0].clientX - rect.left;\n      dragOffset.y = e.touches[0].clientY - rect.top;\n      document.addEventListener('touchmove', onDrag);\n      document.addEventListener('touchend', stopDrag);\n    }\n    \n    e.preventDefault();\n  }\n\n  function onDrag(e) {\n    if (!isDragging) return;\n    \n    let clientX, clientY;\n    \n    if (e.type === 'mousemove') {\n      clientX = e.clientX;\n      clientY = e.clientY;\n    } else {\n      clientX = e.touches[0].clientX;\n      clientY = e.touches[0].clientY;\n    }\n    \n    const x = Math.max(0, Math.min(clientX - dragOffset.x, window.innerWidth - 40));\n    const y = Math.max(0, Math.min(clientY - dragOffset.y, window.innerHeight - 40));\n    \n    controlPanel.style.left = x + 'px';\n    controlPanel.style.top = y + 'px';\n    controlPanel.style.right = 'auto';\n  }\n\n  function stopDrag() {\n    isDragging = false;\n    document.removeEventListener('mousemove', onDrag);\n    document.removeEventListener('mouseup', stopDrag);\n    document.removeEventListener('touchmove', onDrag);\n    document.removeEventListener('touchend', stopDrag);\n    showStatus('æ§åˆ¶é¢æ¿ä½ç½®å·²è°ƒæ•´');\n  }\n\n  // åŠ è½½è‡ªå®šä¹‰é¢œè‰²å’Œä¸‹è½½ä»»åŠ¡\n  loadCustomColor();\n  updateDownloadManager();\n\n  console.log('é«˜çº§æ§åˆ¶é¢æ¿å·²åŠ è½½ï¼');\n}\n\n// æ·»åŠ å¿…è¦çš„åº“\nconst script1 = document.createElement('script');\nscript1.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js';\ndocument.head.appendChild(script1);","isHtml":false,"htmlPath":"","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v2.1.5","iosRepo":"PakePlus-iOS-v2.1.5","androidRepo":"PakePlus-Android-v2.1.5","more":{"windows":{"label":"KZADJAI2025","title":"KZADJAI","url":"http://kzadj.cn","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36","width":800,"height":600,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":true,"alwaysOnBottom":true,"center":true,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":true,"hiddenTitle":true,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":true,"acceptFirstMouse":true,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"fullScreen":false,"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"KZADJAI2025","showName":"KZADJAI","version":"3.0.0","webUrl":"http://kzadj.cn","id":"com.KZADJAI2025.pakeplus.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"æ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿ","isHtml":false,"debug":false,"safeArea":"all"},"android":{"name":"KZADJAI2025","showName":"KZADJAI","version":"3.0.0","webUrl":"http://kzadj.cn","id":"com.KZADJAI2025.pakeplus.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"æ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿ","isHtml":false,"debug":false,"safeArea":"all"},"desktop":{"name":"KZADJAI2025","showName":"KZADJAI","version":"3.0.0","id":"com.KZADJAI2025.pakeplus.desktop","desc":"","webUrl":"http://kzadj.cn","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":true,"buildMethod":"cloud","debug":false}}